% !TEX root = ../Dokumentation.tex
\subsection{Bilderzeugung}

\textbf{Funktionsbeschrieb}\\[0.2cm]
Die Bilderzeugung stellt die Schnittstelle zur Kamera sicher und speichert die erzeugten Bilder fortlaufend in einer von OpenCV zu Verfügung gestellten Datenstruktur bereit. Dabei wird jeweils nur das aktuellste Bild der Kamera zu Verfügung gestellt.\\[0.2cm]
\textbf{Komponentenbeschrieb}\\[0.2cm]
Die Bilderzeugung ist ein eigener als Thread realisierter Subprozess und liefert über die Methode \code{GetImage()} den Pointer auf das Bild zurück. Die verfügbare Datenstruktur ist dabei \code{cv::Mat} in Farbe mit einer Auflösung von 640x320 Pixel. Die verwendenden Prozesse können sich dann den Bildinhalt zeitgleich und unabhängig voneinander abgreifen und bedarfsgerecht weiterverarbeiten. Gestartet wird der Prozess automatisch bei der Objekterzeugung und kann über die Methode StopRecording() angehalten werden, sobald das Ziel erreicht worden ist.\\[0.2cm]
\textbf{Begründung}\\[0.2cm]
Der beschrieene Lösungsansatz bietet den Vorteil, dass die Fahrbahnerkennung und die Objekterkennung, welche diesen Prozess benutzen, unabhängig voneinander ihre Weiterverarbeitung parallel durchführen können. So wird der Mehrkernprozessor des Minicomputers optimal genutzt. Weiter  sollte eine Synchronisation der \code{GetImage()}-Methode nicht notwendig sein, da das erzeugte Bild nicht verändert, sondern nur genutzt wird.\\[0.2cm]
\textbf{Testergebnisse}\\[0.2cm]
Anhand der Test mit dem Minicomputer und der entsprechenden Kamera werden ca 20-30 Frames pro Minute zu Verfügun gestellt. Die Bilder sind dabei in guter Qualität und mit wenig Glanzeffekten entstanden. Es könnte dennoch von Vorteil sein, den Glanz noch wegzufiltern um Störungen zu vermeiden.\\
Die parallelen Zugriffe haben sich in den Tests bewährt und konfliktfrei funktioniert.